<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />

    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0" /> -->
    <title>Tauri + React + Typescript</title>
    <script>
      // Early apply persisted status bar top inset to avoid first paint jump on Android
      (function () {
        try {
          var saved = localStorage.getItem("sp:fallback-top");
          if (saved) {
            document.documentElement.style.setProperty("--fallback-top", saved);
          }
          function computeAndPersist() {
            var ua = navigator.userAgent || "";
            var isAndroid = /Android/i.test(ua);
            var vv = (window).visualViewport;
            var top = 0;
            if (vv && typeof vv.offsetTop === "number") {
              top = Math.max(0, Math.round(vv.offsetTop));
            }
            // Never shrink below the last persisted value (if any)
            if (saved && /px$/.test(saved)) {
              var persisted = parseInt(saved, 10) || 0;
              if (persisted > top) top = persisted;
            }
            if (top === 0 && isAndroid) {
              // Heuristic default for Android overlay status bar
              top = 32;
            }
            var px = String(top) + "px";
            if (px !== saved) {
              document.documentElement.style.setProperty("--fallback-top", px);
              try { localStorage.setItem("sp:fallback-top", px); } catch {}
              saved = px;
            }
          }
          computeAndPersist();
          var vv = (window).visualViewport;
          vv && vv.addEventListener && vv.addEventListener("resize", computeAndPersist);
          window.addEventListener("orientationchange", computeAndPersist);
        } catch (_) { /* noop */ }
      })();
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
